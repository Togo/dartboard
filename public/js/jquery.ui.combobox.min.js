(function(b){b.widget("ui.combobox",{_create:function(){var d=this.element;d.hide();var e=[];b("option",d).each(function(){var f={};f.value=b(this).val();f.label=b(this).text();e[e.length]=f});var a=b("<input>");a.insertAfter(d);a.autocomplete({source:e,delay:0,change:function(f,h){if(!h.item){for(var j=b(this).val(),i=false,g=0;g<e.length;g++)if(e[g].label.toLowerCase()==j.toLowerCase()){d.val(e[g].value);b(this).val(e[g].label);i=true;break}i||b(this).val(b(":selected",d).text());return false}},
select:function(f,h){d.val(h.item.value);b(this).val(h.item.label);return false},open:function(){a.attr("menustatus","open")},close:function(){a.attr("menustatus","closed")},minLength:0});a.addClass("ui-widget ui-widget-content ui-corner-left");a.val(b(":selected",d).text());a.click(function(){b(this).val("")});a.attr("menustatus","closed");var c=b(a).parents("form:first");b(c).submit(function(){return a.attr("menustatus")=="closed"});c=b("<button>&nbsp;</button>");c.attr("tabIndex",-1);c.attr("title",
"Show All Items");c.insertAfter(a);c.button({icons:{primary:"ui-icon-triangle-1-s"},text:false});c.removeClass("ui-corner-all");c.addClass("ui-corner-right ui-button-icon");c.click(function(){if(a.autocomplete("widget").is(":visible")){a.autocomplete("close");return false}a.autocomplete("search","");a.focus();return false});c.css("margin-left","-1px");a.css("margin",0);c.css("padding",0);a.css("padding","0 0.4em 0 0.4em");b("span.ui-button-text",c).css("padding",0)}})})(jQuery);$(function(){$(".combobox").combobox()});